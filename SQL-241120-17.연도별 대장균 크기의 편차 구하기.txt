/* ME */
SELECT YEAR(DIFFERENTIATION_DATE) AS YEAR, 
       YEAR_DEV, 
       ID
  FROM ECOLI_DATA
 GROUP BY YEAR, (MAX(SIZE_OF_COLONY) - SIZE_OF_COLONY) AS YEAR_DEV
 ORDER BY YEAR ASC, YEAR_DEV ASC;

/* PERPLEXITY */
SELECT YEAR(DIFFERENTIATION_DATE) AS YEAR,
    MAX(SIZE_OF_COLONY) OVER (PARTITION BY YEAR(DIFFERENTIATION_DATE)) - SIZE_OF_COLONY AS YEAR_DEV,
    ID
FROM ECOLI_DATA
ORDER BY YEAR ASC, YEAR_DEV ASC;

-- GROUP BY 없이 PARTITION BY로 해결할 수도 있다!
-- 원래 데이터에서 분화날짜가 오름차순으로 되어 있어서가 아니라 
-- 마지막에 ORDER BY를 하므로